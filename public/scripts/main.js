"use strict";"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i,s){var o={init:function(i,s){var o=this;if(o.maxScrollPosition=0,o.elem=s,o.options=t.extend({},t.fn.sliderShop.options,i),this.wrapper=t(this.elem).find(".slider__wrapper"),this.swither=this.wrapper.children().addClass("swither__item"),this.cnt=this.wrapper.find(".swither__item").length,this.countBoxs=t(this.elem).find("."+this.options.countBox),this.originSize=parseFloat(t(o.elem).css("max-width")),this.deltaHeight=t(s).outerHeight(!0)-this.wrapper.height(),this.originHeight=t(s).outerHeight(!0),this.busy=0,t(e).load(function(){console.log("1"),o.calcConst()}),this.swither.first().addClass("swither__item--edge"),t(this.elem).find(".nav").on("click",function(e){if(e.preventDefault(),!o.busy){o.busy=1,setTimeout(function(){o.busy=0},300);var i=t(s).find(".swither__item--edge");(!t(this).hasClass("nav--prev")||i.prev().length)&&(t(this).hasClass("nav--prev")?o.toGalleryItem(i.prev()):o.toGalleryItem(i.next()))}}),this.options.animBox&&this.prepareTooltip(),t(e).load(function(){o.options.response&&(o.response(),t("body").trigger("resize"))}),this.options.touch&&this.initTouch(),this.options.countSelect&&this.countBoxs.on("click",function(){var e=t(this).prevAll().length,i=t(s).find(".swither__item").removeClass("swither__item--edge"),n=t(i[e]).addClass("swither__item--edge");o.toGalleryItem(n)}),this.options.timer){var n;t(this.elem).on({mouseenter:function(){clearInterval(n)},mouseleave:function(){n=setInterval(function(){var e=t(s).find(".swither__item--edge");o.toGalleryItem(e.next())},o.options.timer)}}),t(this.elem).trigger("mouseleave")}},calcConst:function(){console.log("calcConst");var e=this,i=0,s=(t(this.elem).outerWidth()-40,this.wrapper.parent().width()-this.swither.outerWidth(!0)*this.options.caseLimit),o="auto"===this.options.spaceSection?s/(2*this.options.caseLimit):this.options.spaceSection;o=0>s?0:o,this.swither.css({"margin-left":o,"margin-right":o}).each(function(){i+=t(this).outerWidth(!0)}),1==this.options.count&&t(this.elem).find(".slider__input").text("1 / "+this.swither.length),e.maxScrollPosition=i-this.swither.outerWidth(!0)*this.options.caseLimit,this.wrapper.width(i+20),console.log(i)},response:function(){console.log("response");var i=this;t(e).on("resize",function(){var s=t(i.elem).outerWidth(!0),o=parseFloat(t(i.elem).css("max-width")),n=t(e).width()>1920?1920:t(e).width(),h=t(e).height()-70<400?400:t(e).height();h=h>700?700:h,"height"==i.options.response?o>n&&(t(i.elem).height(h+i.deltaHeight),i.swither.find(".slider__img").height(h),console.log("windowWidth"+n),i.swither.width(n),i.swither.find(".slider__img").css({"margin-left":(n-1.75*h)/2,"margin-right":(n-1.75*h)/2})):(console.log(o+" "+s),i.swither.width(o>s?o/i.options.caseLimit:s/i.options.caseLimit),t(e).load(function(){t(i.elem).height(i.swither.height()+i.deltaHeight)}),t(i.elem).height(i.swither.height()+i.deltaHeight)),i.calcConst();var r=t(i.elem).find(".swither__item--edge").position().left;i.wrapper.css("left",-r)})},initTouch:function(){var e=this;this.touch={start:{x:0,y:0},end:{x:0,y:0},onTouchStart:function(t){e.touch.start.x=t.originalEvent.changedTouches[0].pageX},onTouchMove:function(t){var i=t.originalEvent,s=Math.abs(i.changedTouches[0].pageX-e.touch.start.x),o=Math.abs(i.changedTouches[0].pageY-e.touch.start.y);3*s>o&&t.preventDefault()},onTouchEnd:function(i){if(e.touch.end.x=i.originalEvent.changedTouches[0].pageX,e.distance=e.touch.end.x-e.touch.start.x,Math.abs(e.distance)>50){var s=t(e.elem).find(".swither__item--edge");e.distance>0?e.toGalleryItem(s.prev()):e.toGalleryItem(s.next())}}},t(this.elem).on("touchstart",e.touch.onTouchStart).on("touchmove",e.touch.onTouchMove).on("touchend",this.touch.onTouchEnd)},prepareTooltip:function(){var e=t(this.elem).find("."+this.options.animBox);e.each(function(e,i){this.x=t(this).data("x"),this.y=t(this).data("y"),this.time=t(this).data("time");var s=this;setTimeout(function(){t(s).fadeIn(500)},this.time)})},animBox:function(e){if(this.options.animBox){var i=t(e).find("."+this.options.animBox).hide();i.each(function(e,i){this.x=t(this).data("x"),this.y=t(this).data("y"),this.time=t(this).data("time"),t(this).css({left:this.x+"%",top:this.y+"%"});var s=this;setTimeout(function(){t(s).fadeIn(700)},this.time)})}},toGalleryItem:function(e,i){var s=this;if(i||(i=function(){}),!s.wrapper.find(".swither__item--edge"))return void console.log("error!");if(e.length){var o=e.position().left;if(o<=s.maxScrollPosition+20)switch(e.addClass("swither__item--edge"),e.siblings().removeClass("swither__item--edge"),this.options.countBox&&(this.countBoxs.removeClass("active"),t(this.countBoxs[e.prevAll().length]).addClass("active")),1==this.options.count&&t(this.elem).find(".slider__input").text(e.prevAll().length+this.options.caseLimit+" / "+this.swither.length),this.options.animation){case"slide":this.wrapper.animate({left:-o},{duration:1e3,specialEasing:{"-webkit-transition":"top 1s cubic-bezier(0.42, 0, 0.4, 1.04) 0s","-moz-transition":"top 1s cubic-bezier(0.42, 0, 0.4, 1.04) 0s","-o-transition":"top 1s cubic-bezier(0.42, 0, 0.4, 1.04) 0s",transition:"top 1s cubic-bezier(0.42, 0, 0.4, 1.04) 0s"}},function(){i()}),s.animBox(e);break;case"hide-show":this.wrapper.fadeTo(300,0,function(){t(this).css("left",-o),t(this).animate({opacity:1},500),s.animBox(e)})}else if(this.options.repeat){if(!this.swither)return;var n=t(this.elem).find(".swither__item--edge"),h=t(s.elem).find(".swither__item:first").clone();console.log(h),s.wrapper.append(h),s.calcConst()}}else if(this.options.repeat){if(!this.swither)return;this.swither.clone().appendTo(this.wrapper).addClass("cloned").removeClass("swither__item--edge");this.cnt=this.wrapper.find(".swither__item").length,this.swither=this.wrapper.children(),s.calcConst();var n=t(this.elem).find(".swither__item--edge");s.toGalleryItem(n.next(),function(){s.wrapper.css("transition");s.wrapper.find(".swither__item:not(.cloned)").remove(),console.log("del"),s.wrapper.find(".cloned").removeClass("cloned"),s.wrapper.css("left",0).children().first().addClass("swither__item--edge"),s.swither=s.wrapper.children()})}}};t.fn.sliderShop=function(t){return this.each(function(){var e=Object.create(o);e.init(t,this)})},t.fn.sliderShop.options={caseLimit:4,spaceSection:"auto",animation:"slide",count:!1,countBox:!1,countSelect:!1,timer:!1,repeat:!1,animBox:null,response:!1,touch:!0}}(jQuery,window,document);